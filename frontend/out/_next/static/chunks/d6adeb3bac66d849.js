(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),l=e.i(71645);function s(){let[e,s]=(0,l.useState)(null),[a,r]=(0,l.useState)(!0),[n,i]=(0,l.useState)(!1),[o,c]=(0,l.useState)(""),[d,u]=(0,l.useState)(""),[x,m]=(0,l.useState)(!1),b=async()=>{try{let e=await fetch("https://myspotnow-api.onrender.com/queue/status"),t=await e.json();s(t),r(!1)}catch(e){console.error("Error:",e)}};(0,l.useEffect)(()=>{b();let e=setInterval(()=>{b()},3e3);return()=>clearInterval(e)},[]);let h=async e=>{e.preventDefault(),m(!0);try{let e=await fetch("https://myspotnow-api.onrender.com/queue/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,phone:d,service_type:"Haircut"})}),t=await e.json();e.ok?(alert(`Success! Your Token is #${t.your_token}`),i(!1),c(""),u(""),b()):alert("Something went wrong.")}catch(e){alert("Could not connect to server.")}m(!1)};return a?(0,t.jsx)("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):e?(0,t.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-100 p-4 relative",children:[(0,t.jsxs)("div",{className:"w-full max-w-sm bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-200",children:[(0,t.jsxs)("div",{className:"bg-blue-600 p-6 text-center text-white relative",children:[(0,t.jsx)("h1",{className:"text-3xl font-black tracking-tighter",children:"MySpotNow"}),(0,t.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:e.salon_name})]}),(0,t.jsxs)("div",{className:"py-10 text-center",children:[(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-2",children:"Estimated Wait"}),(0,t.jsxs)("div",{className:"text-7xl font-black text-gray-800 transition-all duration-500",children:[e.estimated_wait_minutes,(0,t.jsx)("span",{className:"text-2xl font-medium text-gray-400 ml-1",children:"min"})]}),(0,t.jsxs)("div",{className:"mt-8 inline-flex items-center bg-green-50 border border-green-100 px-4 py-2 rounded-full",children:[(0,t.jsxs)("span",{className:"relative flex h-3 w-3 mr-2",children:[(0,t.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),(0,t.jsxs)("span",{className:"text-sm font-bold text-green-700",children:[e.people_ahead," People in Queue"]})]})]}),(0,t.jsx)("div",{className:"bg-gray-50 p-6",children:(0,t.jsx)("button",{onClick:()=>i(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl text-lg shadow-lg transition active:scale-95",children:"Join Queue Now"})})]}),n&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xs p-6 animate-in fade-in zoom-in duration-200",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Book Your Spot"}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Your Name"}),(0,t.jsx)("input",{type:"text",required:!0,className:"w-full mt-1 p-3 bg-gray-50 border border-gray-200 rounded-lg outline-blue-500 text-black",value:o,onChange:e=>c(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",required:!0,className:"w-full mt-1 p-3 bg-gray-50 border border-gray-200 rounded-lg outline-blue-500 text-black",value:d,onChange:e=>u(e.target.value)})]}),(0,t.jsxs)("div",{className:"pt-2 flex gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>i(!1),className:"flex-1 py-3 text-gray-500 font-bold hover:bg-gray-100 rounded-lg",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:x,className:"flex-1 py-3 bg-black text-white font-bold rounded-lg hover:bg-gray-800 disabled:opacity-50",children:x?"Booking...":"Confirm"})]})]})]})})]}):(0,t.jsx)("div",{className:"flex h-screen items-center justify-center text-red-500",children:"Server Offline"})}e.s(["default",()=>s])}]);